# Session Log

## Current State
- Forge is a SwiftPM CLI with challenges defined in `Sources/forge/Challenges.swift` (now 1–171).
- Challenge headers live inside each `starterCode`; the CLI no longer prepends headers when writing files.
- Output validation trims whitespace/newlines before comparison.
- Challenge and project checks are triggered manually by pressing Enter.
- SwiftPM tests exist in `Tests/forgeTests/forgeTests.swift`, plus a check script at `scripts/check.sh`.
- Docs updated: `README.md` includes run/reset + learning overview; `AGENTS.md` includes structure + commands; `ROADMAP.md` added.
- Challenges and projects now support stored hints and solutions.
- Cheatsheets are available via `c`, with shared topic blocks and project-specific blocks.

## Recent Changes
- Rebuilt Core 1 to explicitly cover type inference and make arithmetic, compound assignment, comparison, and logical operators exhaustive.
- Reordered Core 2 to introduce ranges without properties, add a collection-properties challenge after arrays/loops, and move tuples closer to collections.
- Added an Array Metrics challenge to prepare learners for Core 2 Project A.
- Expanded Core 3 with a slower closure ramp and added explicit tuple and enum micro-sequences.
- Added void-argument label coverage and more guidance in variadics, inout, nested functions, error handling, and simulated I/O/test challenges.
- Added guidance to Core 2 and Core 3 projects to improve preparation for tuple and parsing work.
- Inserted a basic array-creation challenge before append/count; expanded collection properties coverage.
- Renumbered Core 2 to 19–39 and Core 3 to 40–70, then to 40–71 after adding min/max.
- Added a Core 3 `min()`/`max()` challenge after `reduce`.
- Repaired `makeProjects()` and normalized `expectedOutput` strings after curriculum edits; restored `getCurrentProgress` for tests.
- Added a non-trailing closure call challenge before trailing closures; added block-comment hints for early closures with fully expanded closure literals.
- Expanded the Core 3 closure sequence with compression steps (implicit return, inferred types, inferred trailing closures), added a Shorthand Closure Syntax I/II split, and moved the annotated closure assignment to sit with assigned-closure steps.
- Logged curriculum changes in `CURRICULUM_CHANGES_LOG.md`.
- Ran `scripts/check.sh`; build and tests passed.
- Replaced file watching with manual Enter-to-check flow; added hint/solution commands in the CLI for challenges and projects.
- Ran `scripts/check.sh` after enabling project hints; build and tests passed.
- Migrated inline starter hints into `hints` and `solution` fields for closure and collection challenges.
- Populated hints and solutions for all challenges and projects.
- Ran `scripts/check.sh`; build and tests passed.
- Moved tuple reinforcement into Core 2 and removed tuple challenges from Core 3.
- Ran `scripts/check.sh`; build and tests passed.
- Removed Structs from Core 3 to align with the roadmap; renumbered subsequent challenges.
- Ran `scripts/check.sh`; build and tests passed.
- Rewrote all challenge and project hints to be more actionable and less redundant.
- Updated hints for challenges 1–30 to per-block guidance and regenerated hints for challenges 31–171 and projects from solution blocks.
- Moved tuple-return coverage into Core 2 (Challenge 40) and renumbered Core 3 to 41–78.
- Added challenge topics/tiers plus a `random` mode for practice sets; extras are tagged for variety.
- Added extra projects per core level (core1b/core1c, core2b/core2c, core3b/core3c) and kept them out of the default flow.
- Rewrote Core 1–3 challenge hints and Core 1–3 project hints to adhere to the hint rules.
- Expanded extra Core practice with 20 new challenges (89–108) across conditionals, loops, collections, functions, and optionals.
- Added 12 extra challenges (109–120) for strings, comparisons, and ranges practice.
- Added Mantle challenge stubs (121–153) with placeholder manual-check prompts; Mantle is not wired into the CLI yet.
- Wired Mantle challenges into the main flow and random mode (manual-check placeholders for now).
- Filled out Mantle 1 challenges (121–134) with expected outputs, hints, and solutions.
- Implemented Mantle 2 challenges (135–144) with expected outputs, hints, and solutions.
- Implemented Mantle 3 challenges (145–153) with expected outputs, hints, and solutions.
- Added Mantle projects (mantle1a/mantle2a/mantle3a) and wired them into the main flow.
- Added extra Mantle projects (mantle1b/mantle1c, mantle2b/mantle2c, mantle3b/mantle3c).
- Interleaved Mantle challenges with their pass-level projects (121–134 → mantle1a, 135–144 → mantle2a, 145–153 → mantle3a).
- Ran `scripts/check.sh`; build and tests passed.
- Updated Mantle challenge 150 to use a constrained extension (to avoid re-introducing protocol extensions).
- Mantle sequencing scan after 150 update: no issues found in 121–153.
- Ran `scripts/check.sh`; build and tests passed.
- Core sequencing scan completed (no changes required beyond prior struct removal).
- Mantle 2 challenge 141 now explicitly introduces protocol extensions; Mantle 3 challenge 150 remains the constrained extension variant.
- Mantle sequencing scan after protocol-extension update: no issues found in 121–153.
- Core deep review: removed structs from Core 3 by replacing Challenge 43 with a string prefix/suffix check; clarified try? output in Challenge 73.
- QC fixes: Mantle 1 lazy property challenge uses var for lazy access; Mantle 3 project text clarifies weak manager reference.
- Mantle 1 challenge 123 now uses a non-mutating method so mutating is introduced later in challenge 125.
- Mantle sequencing pass: removed early mentions of protocol extensions in challenge 141 text.
- Mantle project sequencing pass: removed early constrained-extension wording from mantle2b.
- Extras sequencing pass: no ordering issues found in challenges 79–120.
- Added Mantle extra challenges (154–171) across structs/properties, protocols/extensions/errors, and generics/ARC.
- Ran `scripts/check.sh`; build and tests passed.
- Mantle extra sequencing pass: no ordering issues found in challenges 154–171.

## Notes
- Core 2 project `core2a` requires tuple usage; tuples are now taught in Core 2.
- Test runs may require elevated permissions for SwiftPM cache access in sandboxed environments.
